<?php

namespace Database\Seeders;

use App\Models\Item;
use Illuminate\Database\Seeder;

class ItemSeeder extends Seeder
{
    /**
     * Gem tiers configuration for jewelry items.
     */
    private const GEM_TIERS = [
        'Opal' => ['rarity' => 'common', 'base_level' => 1, 'stat_min' => 1, 'stat_max' => 2, 'uncut_value' => 15, 'cut_value' => 35],
        'Jade' => ['rarity' => 'common', 'base_level' => 8, 'stat_min' => 2, 'stat_max' => 3, 'uncut_value' => 25, 'cut_value' => 55],
        'Red Topaz' => ['rarity' => 'common', 'base_level' => 14, 'stat_min' => 3, 'stat_max' => 4, 'uncut_value' => 40, 'cut_value' => 80],
        'Sapphire' => ['rarity' => 'uncommon', 'base_level' => 20, 'stat_min' => 4, 'stat_max' => 5, 'uncut_value' => 100, 'cut_value' => 200],
        'Emerald' => ['rarity' => 'uncommon', 'base_level' => 27, 'stat_min' => 5, 'stat_max' => 6, 'uncut_value' => 150, 'cut_value' => 300],
        'Ruby' => ['rarity' => 'rare', 'base_level' => 34, 'stat_min' => 7, 'stat_max' => 8, 'uncut_value' => 250, 'cut_value' => 500],
        'Diamond' => ['rarity' => 'rare', 'base_level' => 43, 'stat_min' => 10, 'stat_max' => 12, 'uncut_value' => 500, 'cut_value' => 1000],
        'Oria' => ['rarity' => 'epic', 'base_level' => 55, 'stat_min' => 12, 'stat_max' => 20, 'uncut_value' => 1500, 'cut_value' => 3000],
    ];

    /**
     * Jewelry item templates for each slot type.
     * offset: level offset from gem's base_level
     * stat_type: which stats to boost (atk, str, def, or mixed)
     */
    private const JEWELRY_TEMPLATES = [
        'Ring' => ['slot' => 'ring', 'offset' => 0, 'stat_type' => 'atk', 'value_mult' => 1.0],
        'Necklace' => ['slot' => 'necklace', 'offset' => 1, 'stat_type' => 'str_def', 'value_mult' => 1.2],
        'Bracelet' => ['slot' => 'bracelet', 'offset' => 2, 'stat_type' => 'str_def', 'value_mult' => 1.1],
        'Amulet' => ['slot' => 'amulet', 'offset' => 3, 'stat_type' => 'mixed', 'value_mult' => 1.3],
    ];

    /**
     * Metal tiers configuration for smithed items.
     */
    private const METAL_TIERS = [
        'Bronze' => ['base_level' => 1, 'multiplier' => 1.0, 'rarity' => 'common', 'bar_value' => 15],
        'Iron' => ['base_level' => 15, 'multiplier' => 1.5, 'rarity' => 'common', 'bar_value' => 40],
        'Steel' => ['base_level' => 30, 'multiplier' => 2.0, 'rarity' => 'uncommon', 'bar_value' => 100],
        'Mithril' => ['base_level' => 45, 'multiplier' => 3.0, 'rarity' => 'uncommon', 'bar_value' => 300],
        'Celestial' => ['base_level' => 60, 'multiplier' => 4.0, 'rarity' => 'rare', 'bar_value' => 800],
        'Oria' => ['base_level' => 75, 'multiplier' => 5.0, 'rarity' => 'epic', 'bar_value' => 1500],
    ];

    /**
     * Smithable item templates.
     * Each has: bars required, level offset, type, slot, base stats.
     */
    private const SMITHABLE_ITEMS = [
        // Weapons (11 types)
        'Dagger' => ['bars' => 1, 'offset' => 0, 'type' => 'weapon', 'subtype' => 'dagger', 'slot' => 'weapon', 'atk' => 4, 'str' => 2, 'def' => 0],
        'Axe' => ['bars' => 1, 'offset' => 1, 'type' => 'weapon', 'subtype' => 'axe', 'slot' => 'weapon', 'atk' => 6, 'str' => 4, 'def' => 0],
        'Mace' => ['bars' => 1, 'offset' => 2, 'type' => 'weapon', 'subtype' => 'mace', 'slot' => 'weapon', 'atk' => 5, 'str' => 6, 'def' => 0],
        'Sword' => ['bars' => 1, 'offset' => 4, 'type' => 'weapon', 'subtype' => 'sword', 'slot' => 'weapon', 'atk' => 8, 'str' => 5, 'def' => 0],
        'Scimitar' => ['bars' => 2, 'offset' => 5, 'type' => 'weapon', 'subtype' => 'scimitar', 'slot' => 'weapon', 'atk' => 10, 'str' => 6, 'def' => 0],
        'Spear' => ['bars' => 1, 'offset' => 5, 'type' => 'weapon', 'subtype' => 'spear', 'slot' => 'weapon', 'atk' => 7, 'str' => 4, 'def' => 0],
        'Longsword' => ['bars' => 2, 'offset' => 6, 'type' => 'weapon', 'subtype' => 'longsword', 'slot' => 'weapon', 'atk' => 12, 'str' => 8, 'def' => 0],
        'Warhammer' => ['bars' => 3, 'offset' => 9, 'type' => 'weapon', 'subtype' => 'warhammer', 'slot' => 'weapon', 'atk' => 8, 'str' => 14, 'def' => 0],
        'Battleaxe' => ['bars' => 3, 'offset' => 10, 'type' => 'weapon', 'subtype' => 'battleaxe', 'slot' => 'weapon', 'atk' => 14, 'str' => 10, 'def' => 0],
        'Claws' => ['bars' => 2, 'offset' => 13, 'type' => 'weapon', 'subtype' => 'claws', 'slot' => 'weapon', 'atk' => 16, 'str' => 4, 'def' => 0],
        '2h Sword' => ['bars' => 3, 'offset' => 14, 'type' => 'weapon', 'subtype' => '2hsword', 'slot' => 'weapon', 'atk' => 18, 'str' => 12, 'def' => 0],
        // Armor (8 types)
        'Medium Helm' => ['bars' => 1, 'offset' => 3, 'type' => 'armor', 'subtype' => 'helmet', 'slot' => 'head', 'atk' => 0, 'str' => 0, 'def' => 4],
        'Full Helm' => ['bars' => 2, 'offset' => 7, 'type' => 'armor', 'subtype' => 'helmet', 'slot' => 'head', 'atk' => 0, 'str' => 0, 'def' => 8],
        'Sq Shield' => ['bars' => 2, 'offset' => 8, 'type' => 'armor', 'subtype' => 'shield', 'slot' => 'shield', 'atk' => 0, 'str' => 0, 'def' => 10],
        'Chainbody' => ['bars' => 3, 'offset' => 11, 'type' => 'armor', 'subtype' => 'chest', 'slot' => 'chest', 'atk' => 0, 'str' => 0, 'def' => 14],
        'Kiteshield' => ['bars' => 3, 'offset' => 12, 'type' => 'armor', 'subtype' => 'shield', 'slot' => 'shield', 'atk' => 0, 'str' => 0, 'def' => 16],
        'Platelegs' => ['bars' => 3, 'offset' => 16, 'type' => 'armor', 'subtype' => 'legs', 'slot' => 'legs', 'atk' => 0, 'str' => 0, 'def' => 12],
        'Plateskirt' => ['bars' => 3, 'offset' => 16, 'type' => 'armor', 'subtype' => 'legs', 'slot' => 'legs', 'atk' => 0, 'str' => 0, 'def' => 12],
        'Platebody' => ['bars' => 5, 'offset' => 18, 'type' => 'armor', 'subtype' => 'chest', 'slot' => 'chest', 'atk' => 0, 'str' => 0, 'def' => 22],
        // Ammunition (4 types) - stackable (tips are crafting components, no bonuses)
        'Dart Tips' => ['bars' => 1, 'offset' => 4, 'type' => 'misc', 'subtype' => 'ammunition', 'slot' => null, 'atk' => 0, 'str' => 0, 'def' => 0, 'stackable' => true, 'output_qty' => 10],
        'Arrowtips' => ['bars' => 1, 'offset' => 5, 'type' => 'misc', 'subtype' => 'ammunition', 'slot' => null, 'atk' => 0, 'str' => 0, 'def' => 0, 'stackable' => true, 'output_qty' => 15],
        'Javelin Tips' => ['bars' => 1, 'offset' => 6, 'type' => 'misc', 'subtype' => 'ammunition', 'slot' => null, 'atk' => 0, 'str' => 0, 'def' => 0, 'stackable' => true, 'output_qty' => 5],
        'Throwing Knives' => ['bars' => 1, 'offset' => 7, 'type' => 'weapon', 'subtype' => 'throwing', 'slot' => 'weapon', 'atk' => 3, 'str' => 2, 'def' => 0, 'stackable' => true, 'output_qty' => 5],
        // Materials
        'Nails' => ['bars' => 1, 'offset' => 0, 'type' => 'misc', 'subtype' => 'material', 'slot' => null, 'atk' => 0, 'str' => 0, 'def' => 0, 'stackable' => true, 'output_qty' => 15],
    ];

    /**
     * Generate all smithed items for all metal tiers.
     *
     * @return array<int, array<string, mixed>>
     */
    private function generateSmithedItems(): array
    {
        $items = [];

        foreach (self::METAL_TIERS as $metal => $tierData) {
            foreach (self::SMITHABLE_ITEMS as $itemName => $itemData) {
                $level = $tierData['base_level'] + $itemData['offset'];
                $multiplier = $tierData['multiplier'];
                $isStackable = $itemData['stackable'] ?? false;

                $outputQty = $itemData['output_qty'] ?? 1;

                $item = [
                    'name' => "{$metal} {$itemName}",
                    'description' => $this->generateDescription($metal, $itemName, $itemData['type']),
                    'type' => $itemData['type'],
                    'subtype' => $itemData['subtype'],
                    'rarity' => $tierData['rarity'],
                    'stackable' => $isStackable,
                    'required_level' => $level,
                    'base_value' => (int) round($this->calculateValue($tierData['bar_value'], $itemData['bars'], $multiplier) / $outputQty),
                ];

                if ($isStackable) {
                    $item['max_stack'] = 1000;
                }

                if ($itemData['slot']) {
                    $item['equipment_slot'] = $itemData['slot'];
                }

                if ($itemData['atk'] > 0) {
                    $item['atk_bonus'] = (int) round($itemData['atk'] * $multiplier);
                }

                if ($itemData['str'] > 0) {
                    $item['str_bonus'] = (int) round($itemData['str'] * $multiplier);
                }

                if ($itemData['def'] > 0) {
                    $item['def_bonus'] = (int) round($itemData['def'] * $multiplier);
                }

                $items[] = $item;
            }
        }

        return $items;
    }

    /**
     * Generate a description for a smithed item.
     */
    private function generateDescription(string $metal, string $itemName, string $type): string
    {
        $metalLore = [
            'Bronze' => 'The alloy that built civilizations. Apprentice smiths begin their craft with bronze, learning to respect the forge before mastering it.',
            'Iron' => 'Cold iron, feared by the fae and trusted by warriors. A reliable metal that has ended countless battles.',
            'Steel' => 'Forged through fire and patience, steel represents the pinnacle of mortal smithing. Knights and kings alike covet its edge.',
            'Mithril' => 'Dwarven legends speak of mithril as starlight made solid. Lighter than silk yet stronger than iron, it sings when struck.',
            'Celestial' => 'Fallen from the heavens in blazing meteorites, celestial metal pulses with cosmic energy. Only master smiths dare work it.',
            'Oria' => 'The gods themselves blessed this metal. Oria weapons have slain demons, and oria armor has turned aside dragon fire.',
        ];

        $itemLore = [
            'Dagger' => 'A blade for close quarters. Assassins prefer them, but wise travelers keep one in their boot.',
            'Axe' => 'As useful for splitting wood as splitting skulls. A frontier favorite.',
            'Mace' => 'Designed to crush armor and bone alike. Clerics favor them, claiming they shed no blood.',
            'Sword' => 'The weapon of nobility. A sword speaks of training, discipline, and deadly intent.',
            'Scimitar' => 'Curved for slashing from horseback. Desert warriors swear by its fluid arc.',
            'Spear' => 'The first weapon of war. Simple, effective, and terrifying in formation.',
            'Longsword' => 'A two-handed grip allows devastating cuts. Knights dedicate years to mastering its reach.',
            'Warhammer' => 'When armor became too strong for blades, smiths answered with hammers. Nothing withstands the impact.',
            'Battleaxe' => 'A berserker\'s companion. The weight demands strength, but the cleaving power rewards it.',
            'Claws' => 'Fitted over the knuckles for vicious close combat. Brawlers and monks favor their speed.',
            '2h Sword' => 'Massive and intimidating. These blades were forged to cut through cavalry and pike formations.',
            'Medium Helm' => 'Protects the skull while maintaining visibility. A practical choice for skirmishers.',
            'Full Helm' => 'Complete head protection at the cost of peripheral vision. Trust your allies to watch your flanks.',
            'Sq Shield' => 'A square shield offering solid protection. Infantry have carried these into battle for centuries.',
            'Chainbody' => 'Thousands of interlocking rings absorb slashing blows. Flexible enough for mounted combat.',
            'Kiteshield' => 'Named for its distinctive shape, this shield can protect from chin to knee.',
            'Platelegs' => 'Articulated plates protect the legs while allowing movement. Essential for any serious warrior.',
            'Plateskirt' => 'An alternative to platelegs, favored by those who value mobility over complete coverage.',
            'Platebody' => 'The pinnacle of armored protection. A full breastplate turns aside all but the mightiest blows.',
            'Dart Tips' => 'Sharpen these and fletch them for deadly ranged attacks. Assassins coat them in poison.',
            'Arrowtips' => 'Standard tips for arrows. Quality tips mean the difference between a wound and a kill.',
            'Javelin Tips' => 'Heavy tips for throwing spears. The impact can pierce shields.',
            'Throwing Knives' => 'Balanced for flight. Skilled throwers can strike with lethal accuracy.',
        ];

        $metalDesc = $metalLore[$metal] ?? '';
        $itemDesc = $itemLore[$itemName] ?? '';

        return trim("{$itemDesc} {$metalDesc}");
    }

    /**
     * Calculate base value for a smithed item.
     */
    private function calculateValue(int $barValue, int $bars, float $multiplier): int
    {
        return (int) round($barValue * $bars * $multiplier * 1.5);
    }

    /**
     * Generate all gem jewelry items.
     *
     * @return array<int, array<string, mixed>>
     */
    private function generateGemJewelry(): array
    {
        $items = [];

        foreach (self::GEM_TIERS as $gem => $gemData) {
            foreach (self::JEWELRY_TEMPLATES as $jewelryType => $templateData) {
                $level = $gemData['base_level'] + $templateData['offset'];
                $statMin = $gemData['stat_min'];
                $statMax = $gemData['stat_max'];
                $avgStat = (int) round(($statMin + $statMax) / 2);

                $item = [
                    'name' => "{$gem} {$jewelryType}",
                    'description' => $this->generateJewelryDescription($gem, $jewelryType),
                    'type' => 'armor',
                    'subtype' => strtolower($jewelryType),
                    'rarity' => $gemData['rarity'],
                    'stackable' => false,
                    'equipment_slot' => $templateData['slot'],
                    'required_level' => $level,
                    'base_value' => (int) round($gemData['cut_value'] * $templateData['value_mult'] * 2),
                ];

                // Apply stats based on jewelry type
                switch ($templateData['stat_type']) {
                    case 'atk':
                        $item['atk_bonus'] = $statMax;
                        break;
                    case 'str_def':
                        // Alternate between STR and DEF based on gem position
                        $gemIndex = array_search($gem, array_keys(self::GEM_TIERS));
                        if ($gemIndex % 2 === 0) {
                            $item['str_bonus'] = $avgStat;
                        } else {
                            $item['def_bonus'] = $avgStat;
                        }
                        break;
                    case 'mixed':
                        $item['atk_bonus'] = $statMin;
                        $item['str_bonus'] = $avgStat;
                        $item['def_bonus'] = $statMin;
                        break;
                }

                $items[] = $item;
            }
        }

        return $items;
    }

    /**
     * Generate a description for a jewelry item.
     */
    private function generateJewelryDescription(string $gem, string $jewelryType): string
    {
        $gemLore = [
            'Opal' => 'Opals contain trapped rainbows, remnants of the first storm that blessed Myrefell. Fortune-tellers prize them for visions.',
            'Jade' => 'The elves revere jade as crystallized forest spirits. It brings calm to troubled minds and steady hands to archers.',
            'Red Topaz' => 'Born in volcanic depths, red topaz carries the fury of the earth. Warriors believe it grants courage in battle.',
            'Sapphire' => 'Sapphires hold the essence of twilight skies. Scholars say they enhance wisdom and clear thought.',
            'Emerald' => 'The gem of spring and rebirth. Emeralds are said to reveal truth and expose liars to their wearers.',
            'Ruby' => 'Drops of dragon blood turned to stone, or so the legends claim. Rubies amplify passion and power alike.',
            'Diamond' => 'Unbreakable and eternal, diamonds are tears of the gods shed at creation. They symbolize invincibility.',
            'Oria' => 'The rarest gem in existence, oria stones pulse with divine energy. Temples have waged wars over single specimens.',
        ];

        $jewelryLore = [
            'Ring' => 'Worn on the finger, close to the pulse, where its magic flows directly through the blood.',
            'Necklace' => 'Resting near the heart, necklaces are said to amplify emotions and protect the wearer\'s spirit.',
            'Bracelet' => 'Encircling the wrist, bracelets empower the hands that wield weapons and cast spells.',
            'Amulet' => 'Ancient symbols of protection. Amulets have guarded kings and peasants alike from curses and evil.',
        ];

        $gemDesc = $gemLore[$gem] ?? 'A precious gem of considerable worth.';
        $jewelryDesc = $jewelryLore[$jewelryType] ?? 'A beautifully crafted piece of jewelry.';

        return "{$gemDesc} {$jewelryDesc}";
    }

    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // Generate smithed items programmatically
        $smithedItems = $this->generateSmithedItems();

        $items = [
            // === LEGACY WEAPONS (kept for backwards compatibility) ===
            [
                'name' => 'Dragon Slayer',
                'description' => 'Forged in dragonfire and quenched in the blood of wyrms, this blade hungers for scaled prey. The hero Aldric the Bold carried it into the Sundering, where he slew Vexarion the Eternal. The blade still hums with ancient fury when dragons draw near.',
                'type' => 'weapon',
                'subtype' => 'sword',
                'rarity' => 'legendary',
                'stackable' => false,
                'atk_bonus' => 50,
                'str_bonus' => 30,
                'equipment_slot' => 'weapon',
                'required_level' => 80,
                'effective_against' => ['dragon'],
                'base_value' => 25000,
            ],

            // === LEGACY ARMOR (kept for backwards compatibility) ===
            [
                'name' => 'Leather Cap',
                'description' => 'Every adventurer starts somewhere. This humble cap has protected countless fools from their first goblin club. The leather is thick enough to matter, though veterans smile when they see one.',
                'type' => 'armor',
                'subtype' => 'helmet',
                'rarity' => 'common',
                'stackable' => false,
                'def_bonus' => 2,
                'equipment_slot' => 'head',
                'required_level' => 1,
                'base_value' => 25,
            ],
            [
                'name' => 'Leather Vest',
                'description' => 'Tanned hide stitched with care by village craftsmen. It won\'t stop a knight\'s blade, but it\'ll turn a wolf\'s teeth and keep you breathing. Good enough for the road.',
                'type' => 'armor',
                'subtype' => 'chest',
                'rarity' => 'common',
                'stackable' => false,
                'def_bonus' => 4,
                'equipment_slot' => 'chest',
                'required_level' => 1,
                'base_value' => 40,
            ],
            [
                'name' => 'Wooden Shield',
                'description' => 'Oak planks bound with iron bands. Militia have carried these into battle for generations. It splinters under heavy blows, but splinters beat the alternative.',
                'type' => 'armor',
                'subtype' => 'shield',
                'rarity' => 'common',
                'stackable' => false,
                'def_bonus' => 3,
                'equipment_slot' => 'shield',
                'required_level' => 1,
                'base_value' => 30,
            ],

            // === RESOURCES ===
            // Ores
            [
                'name' => 'Copper Ore',
                'description' => 'The first metal humanity learned to work. Veins of copper run through the hills of Myrefell, each chunk a promise of tools, coins, or the beginning of a smith\'s journey.',
                'type' => 'resource',
                'subtype' => 'ore',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 5,
            ],
            [
                'name' => 'Tin Ore',
                'description' => 'Soft and silver-grey, tin alone is nearly useless. But combine it with copper in the forge, and bronze emerges—the alloy that armed the first heroes of legend.',
                'type' => 'resource',
                'subtype' => 'ore',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 5,
            ],
            [
                'name' => 'Iron Ore',
                'description' => 'Cold iron, feared by faeries and prized by mortals. The backbone of civilization\'s might, this ore has built empires and brought them crashing down.',
                'type' => 'resource',
                'subtype' => 'ore',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 15,
            ],
            [
                'name' => 'Coal',
                'description' => 'Black as midnight and hot as hatred. Coal burns fiercely enough to make iron flow and steel sing. Every great forge is built upon mountains of this dark fuel.',
                'type' => 'resource',
                'subtype' => 'ore',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 10,
            ],
            [
                'name' => 'Silver Ore',
                'description' => 'A lustrous ore with a pale gleam. Silver has been prized since ancient times for its beauty and purity. Smiths value it for jewelry and ceremonial items.',
                'type' => 'resource',
                'subtype' => 'ore',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 50,
            ],
            [
                'name' => 'Gold Ore',
                'description' => 'The eternal metal. Gold does not tarnish, does not rust, does not yield to time. Kings hoard it, merchants worship it, and jewelers transform it into dreams made solid.',
                'type' => 'resource',
                'subtype' => 'ore',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 100,
            ],
            [
                'name' => 'Mithril Ore',
                'description' => 'The dwarves discovered mithril in the deepest places, where the roots of mountains touch the bones of the world. It shimmers like moonlight trapped in stone.',
                'type' => 'resource',
                'subtype' => 'ore',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 200,
            ],
            [
                'name' => 'Celestial Ore',
                'description' => 'When the heavens weep, they weep fire and metal. This ore fell burning from the void between stars. It pulses with cosmic energy that makes lesser metals seem dead.',
                'type' => 'resource',
                'subtype' => 'ore',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 500,
            ],
            [
                'name' => 'Oria Ore',
                'description' => 'The gods themselves worked this metal at the dawn of creation. Finding oria ore is a miracle. Working it requires divine favor. Owning it makes you a target.',
                'type' => 'resource',
                'subtype' => 'ore',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 1000,
            ],

            // Bars
            [
                'name' => 'Bronze Bar',
                'description' => 'Copper and tin united in fire. This ancient alloy taught humanity that together, metals become more than themselves. The foundation of smithing.',
                'type' => 'resource',
                'subtype' => 'bar',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 15,
            ],
            [
                'name' => 'Iron Bar',
                'description' => 'Heavy and honest, iron does not forgive mistakes at the anvil. But shaped with skill, it becomes blades that bite and armor that endures.',
                'type' => 'resource',
                'subtype' => 'bar',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 40,
            ],
            [
                'name' => 'Steel Bar',
                'description' => 'Iron reborn through patience and coal. Steel holds an edge longer, bends before it breaks, and represents mastery of the forge.',
                'type' => 'resource',
                'subtype' => 'bar',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 100,
            ],
            [
                'name' => 'Silver Bar',
                'description' => 'Refined silver, bright as moonlight. This precious metal is too soft for weapons but perfect for jewelry, holy symbols, and items of great beauty.',
                'type' => 'resource',
                'subtype' => 'bar',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 75,
            ],
            [
                'name' => 'Gold Bar',
                'description' => 'Worth more than its weight in promises. This gleaming bar could buy a farm or adorn a queen. Jewelers dream in gold.',
                'type' => 'resource',
                'subtype' => 'bar',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 150,
            ],
            [
                'name' => 'Mithril Bar',
                'description' => 'Light as a whisper, strong as conviction. The dwarves guard their mithril-working secrets with their lives. This bar represents rare trust.',
                'type' => 'resource',
                'subtype' => 'bar',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 300,
            ],
            [
                'name' => 'Celestial Bar',
                'description' => 'The forge that shaped this bar burned with starfire. It radiates faint warmth and hums at frequencies that only dragons and the mad can hear.',
                'type' => 'resource',
                'subtype' => 'bar',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 800,
            ],
            [
                'name' => 'Oria Bar',
                'description' => 'Divine metal rendered workable by mortal hands—barely. This bar thrums with power that makes master smiths weep at the responsibility.',
                'type' => 'resource',
                'subtype' => 'bar',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 1500,
            ],

            // Fish (perishable - spoils after time)
            [
                'name' => 'Raw Shrimp',
                'description' => 'Tiny but plentiful in Myrefell\'s streams. Children learn to net these before they can hold a rod. Best fried crisp with salt and herbs.',
                'type' => 'resource',
                'subtype' => 'fish',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
                'is_perishable' => true,
                'spoil_after_weeks' => 2,
                'decays_into' => 'Spoiled Food',
            ],
            [
                'name' => 'Raw Sardine',
                'description' => 'Silver schools flash through coastal waters. Sardines are the bread of the sea—common, nourishing, and honest. Cook before they turn.',
                'type' => 'resource',
                'subtype' => 'fish',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 5,
                'is_perishable' => true,
                'spoil_after_weeks' => 2,
                'decays_into' => 'Spoiled Food',
            ],
            [
                'name' => 'Raw Trout',
                'description' => 'River trout fight hard and taste better. Every fishing village has an old-timer who claims to know the secret spot. They all do.',
                'type' => 'resource',
                'subtype' => 'fish',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 8,
                'is_perishable' => true,
                'spoil_after_weeks' => 2,
                'decays_into' => 'Spoiled Food',
            ],
            [
                'name' => 'Raw Salmon',
                'description' => 'Pink flesh rich with oil and flavor. Salmon swim upstream to spawn, leaping waterfalls with determination adventurers might envy.',
                'type' => 'resource',
                'subtype' => 'fish',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 15,
                'is_perishable' => true,
                'spoil_after_weeks' => 2,
                'decays_into' => 'Spoiled Food',
            ],
            [
                'name' => 'Raw Lobster',
                'description' => 'Armored in shell and armed with claws, lobsters lurk in rocky depths. Nobility pay handsomely for their sweet meat. Cook them quick.',
                'type' => 'resource',
                'subtype' => 'fish',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 50,
                'is_perishable' => true,
                'spoil_after_weeks' => 2,
                'decays_into' => 'Spoiled Food',
            ],
            [
                'name' => 'Raw Swordfish',
                'description' => 'Lords of the deep with blades on their faces. Landing one is a battle; cooking one is an art. Tales are told of swordfish that sank boats.',
                'type' => 'resource',
                'subtype' => 'fish',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 100,
                'is_perishable' => true,
                'spoil_after_weeks' => 2,
                'decays_into' => 'Spoiled Food',
            ],

            // Grain (base food for village stockpiles - slow decay)
            [
                'name' => 'Grain',
                'description' => 'The golden gift that feeds Myrefell. Wars are fought over granaries; kingdoms rise and fall on harvests. Store it dry or watch your village starve.',
                'type' => 'resource',
                'subtype' => 'grain',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 1000,
                'base_value' => 2,
                'food_value' => 4,
                'is_perishable' => true,
                'decay_rate_per_week' => 1,
            ],
            [
                'name' => 'Flour',
                'description' => 'Ground between millstones until soft as snow. Flour becomes bread, pies, and the thousand small miracles that make civilization possible.',
                'type' => 'resource',
                'subtype' => 'grain',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 5,
                'food_value' => 4,
            ],
            [
                'name' => 'Raw Meat',
                'description' => 'Fresh from the hunt, still warm. Cook it before the flies find it, or the rot sets in. A hunter\'s reward and a cook\'s challenge.',
                'type' => 'resource',
                'subtype' => 'meat',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 12,
                'is_perishable' => true,
                'spoil_after_weeks' => 2,
                'decays_into' => 'Spoiled Food',
            ],
            [
                'name' => 'Wood',
                'description' => 'Common timber from the endless forests. Homes are built of it, fires fed by it, and tools shaped from it. Civilization\'s quiet backbone.',
                'type' => 'resource',
                'subtype' => 'wood',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
            ],
            [
                'name' => 'Oak Wood',
                'description' => 'Dense and patient, oak trees grow for centuries. Their wood builds ships that cross oceans and beams that hold up cathedrals.',
                'type' => 'resource',
                'subtype' => 'wood',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 8,
            ],
            [
                'name' => 'Willow Wood',
                'description' => 'Supple as a dancer, willow bends rather than breaks. Bowyers prize it, and fishermen swear by willow rods. It weeps by rivers.',
                'type' => 'resource',
                'subtype' => 'wood',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 6,
            ],

            // Herbs (herblore gathering)
            [
                'name' => 'Herb',
                'description' => 'Grandmother\'s remedy for everything. These common herbs grow in meadows and roadsides, waiting for those wise enough to recognize their value.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 2,
            ],
            [
                'name' => 'Healing Herb',
                'description' => 'Apothecaries seek these green miracles. Chewed raw, they numb pain. Brewed properly, they mend wounds that should kill. Every healer knows them.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 5,
            ],
            [
                'name' => 'Moonpetal',
                'description' => 'When the moon rises full, these flowers open their silver petals and drink the pale light. Witches whisper that they remember every secret told beneath the stars.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 15,
            ],
            [
                'name' => 'Bloodroot',
                'description' => 'Pull it from the earth and it bleeds crimson sap. Alchemists prize bloodroot for potions of strength and rage. Some say battlefields grow thick with it.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 25,
            ],
            [
                'name' => 'Ghostcap Mushroom',
                'description' => 'They grow in tombs and forgotten places, pale as spirits. The dead don\'t mind their company. Potions brewed with ghostcap touch the boundary between worlds.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 50,
            ],
            [
                'name' => 'Dragonvine',
                'description' => 'Legend holds that where dragons sleep for centuries, their dreams seep into the soil. Dragonvine sprouts from those dreams—thorned, dangerous, and impossibly potent.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 100,
            ],

            // Additional herbs and ingredients for apothecary
            [
                'name' => 'Nightshade',
                'description' => 'Beautiful and deadly, with berries black as sin. Assassins know its uses. Healers know its dangers. In the right hands, it saves lives. In the wrong ones...',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 20,
            ],
            [
                'name' => 'Sunblossom',
                'description' => 'These golden flowers track the sun across the sky and close at dusk. Priests use them in rituals of blessing. Tea brewed from them brings warmth to cold bones.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 8,
            ],
            [
                'name' => 'Stoneroot',
                'description' => 'Growing where nothing should, stoneroot cracks boulders with patient determination. Potions made from it harden resolve and toughen skin.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 10,
            ],
            [
                'name' => 'Ironbark',
                'description' => 'Stripped from trees that grow in cursed soil, ironbark is literally harder than iron. Dwarves chew it for strong teeth. Alchemists grind it for defense tonics.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 18,
            ],
            [
                'name' => 'Hawkeye Leaf',
                'description' => 'Archers chew these before competition, swearing they can see the wind itself. The leaves come from high peaks where eagles nest. The climb is worth it.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 22,
            ],
            [
                'name' => 'Swiftfoot Moss',
                'description' => 'It clings to river stones where the water runs fastest. Messengers and thieves pay well for swiftfoot—a potion made from it lends unnatural speed.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 25,
            ],
            [
                'name' => 'Windweed',
                'description' => 'Even in dead calm, windweed dances. Some say it remembers every breeze that ever touched it. Ground fine, it grants fleetness of foot.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 20,
            ],
            [
                'name' => 'Starlight Essence',
                'description' => 'Gathered in crystal vials at midnight from dew that forms on sacred stones. It glows faintly and smells of impossible distances. Handle with reverence.',
                'type' => 'resource',
                'subtype' => 'essence',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 150,
            ],
            [
                'name' => 'Void Essence',
                'description' => 'This shouldn\'t exist. Darkness made tangible, cold as the space between stars. Archmages have gone mad studying it. It whispers if you listen.',
                'type' => 'resource',
                'subtype' => 'essence',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 20,
                'base_value' => 500,
            ],

            // Uncut Gems (for jewelry crafting)
            [
                'name' => 'Uncut Opal',
                'description' => 'Raw opal still dressed in mother stone. Trapped rainbows wait within, glimpsed only when light strikes at angles. A skilled cutter will free its fire.',
                'type' => 'resource',
                'subtype' => 'gem',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 15,
            ],
            [
                'name' => 'Uncut Jade',
                'description' => 'The elves call jade "forest tears." This rough stone hides cool green depths that only patience and skill can reveal.',
                'type' => 'resource',
                'subtype' => 'gem',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 25,
            ],
            [
                'name' => 'Uncut Red Topaz',
                'description' => 'Born in volcanic heat, this rough crystal holds fire\'s memory. Cut it well and it will blaze like sunset caught in stone.',
                'type' => 'resource',
                'subtype' => 'gem',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 40,
            ],
            [
                'name' => 'Uncut Sapphire',
                'description' => 'Deep blue as twilight skies, this rough sapphire dreams of becoming a king\'s crown or a wizard\'s focus. The cutter will decide its fate.',
                'type' => 'resource',
                'subtype' => 'gem',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 100,
            ],
            [
                'name' => 'Uncut Emerald',
                'description' => 'Green as envy, green as spring, green as hope. This rough emerald holds enough beauty to start wars. Cut it with respect.',
                'type' => 'resource',
                'subtype' => 'gem',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 150,
            ],
            [
                'name' => 'Uncut Ruby',
                'description' => 'They say rubies are dragon blood turned to stone. This rough crystal pulses with crimson light, as if a heart still beats within.',
                'type' => 'resource',
                'subtype' => 'gem',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 250,
            ],
            [
                'name' => 'Uncut Diamond',
                'description' => 'Nothing cuts diamond but diamond. This rough stone is harder than anything mortal hands have made. Eternity locked in crystal form.',
                'type' => 'resource',
                'subtype' => 'gem',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 500,
            ],
            [
                'name' => 'Uncut Oria Stone',
                'description' => 'Divinity made manifest, still wearing its rough disguise. High priests have fasted for years seeking one. Hold it and feel the weight of the sacred.',
                'type' => 'resource',
                'subtype' => 'gem',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 1500,
            ],

            // Cut Gems (for jewelry crafting)
            [
                'name' => 'Opal',
                'description' => 'Every angle reveals new colors dancing beneath the surface. Seers claim opals show the future to those who know how to look.',
                'type' => 'resource',
                'subtype' => 'cut_gem',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 35,
            ],
            [
                'name' => 'Jade',
                'description' => 'Carved into amulets since before written history. This polished jade carries the serenity of ancient forests in its cool green depths.',
                'type' => 'resource',
                'subtype' => 'cut_gem',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 55,
            ],
            [
                'name' => 'Red Topaz',
                'description' => 'Faceted to catch every spark of light, this topaz burns with captive flame. Warriors wear them for courage; lovers, for passion.',
                'type' => 'resource',
                'subtype' => 'cut_gem',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 80,
            ],
            [
                'name' => 'Sapphire',
                'description' => 'Blue as a cloudless noon, cut to perfection. Sapphires adorn the scepters of just rulers and the rings of faithful lovers.',
                'type' => 'resource',
                'subtype' => 'cut_gem',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 200,
            ],
            [
                'name' => 'Emerald',
                'description' => 'Cut to maximize its hypnotic green depths. Stare too long and you might forget what you were doing. Emeralds demand attention.',
                'type' => 'resource',
                'subtype' => 'cut_gem',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 300,
            ],
            [
                'name' => 'Ruby',
                'description' => 'Fire made solid, passion crystallized. This ruby\'s facets multiply its inner flame until it seems to blaze with its own light.',
                'type' => 'resource',
                'subtype' => 'cut_gem',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 500,
            ],
            [
                'name' => 'Diamond',
                'description' => 'Perfect and eternal, this diamond will outlast the hands that cut it, the kingdom that mined it, perhaps the world itself.',
                'type' => 'resource',
                'subtype' => 'cut_gem',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 1000,
            ],
            [
                'name' => 'Oria Stone',
                'description' => 'Divine radiance given form. This sacred gem pulses with holy energy that even the faithless can feel. Wars have been fought over lesser stones.',
                'type' => 'resource',
                'subtype' => 'cut_gem',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3000,
            ],

            // Monster drops for potions
            [
                'name' => 'Venom Sac',
                'description' => 'Harvested from serpents and spiders, handle with thick gloves. The poison within can kill or cure depending on the alchemist\'s skill.',
                'type' => 'resource',
                'subtype' => 'monster_part',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 35,
            ],
            [
                'name' => 'Giant Essence',
                'description' => 'The distilled strength of fallen giants. One drop contains the power that let them hurl boulders. Drink with caution—bones have shattered from the strain.',
                'type' => 'resource',
                'subtype' => 'essence',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 45,
            ],
            [
                'name' => 'Turtle Shell Powder',
                'description' => 'Ground from shells that turned aside sword and spell alike. Mix it into defense tonics and feel your skin harden like ancient armor.',
                'type' => 'resource',
                'subtype' => 'monster_part',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 40,
            ],
            [
                'name' => 'Phoenix Feather',
                'description' => 'It still radiates warmth, as if death cannot touch it. Alchemists say a single feather can restore life to the recently departed. If the price is right.',
                'type' => 'resource',
                'subtype' => 'monster_part',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 20,
                'base_value' => 200,
            ],
            [
                'name' => 'Unicorn Tears',
                'description' => 'No one who has seen a unicorn weep can speak of it without trembling. These crystalline drops cure any poison, mend any wound, and break any curse.',
                'type' => 'resource',
                'subtype' => 'essence',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 10,
                'base_value' => 1000,
            ],
            [
                'name' => 'Holy Water',
                'description' => 'Blessed beneath cathedral spires by priests who fasted and prayed. The undead shriek from its touch. Evil cannot abide its purity.',
                'type' => 'resource',
                'subtype' => 'essence',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 30,
            ],

            // Vials for potion crafting
            [
                'name' => 'Vial',
                'description' => 'Simple blown glass, but essential. Every potion needs a home. Glassblowers in every town make their living from these humble vessels.',
                'type' => 'misc',
                'subtype' => 'container',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 5,
            ],
            [
                'name' => 'Crystal Vial',
                'description' => 'Cut from pure quartz by master craftsmen. These vials preserve potions longer and prevent volatile reactions. Worth every coin for serious alchemy.',
                'type' => 'misc',
                'subtype' => 'container',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 25,
            ],

            // Spoiled Food (result of decay)
            [
                'name' => 'Spoiled Food',
                'description' => 'Once nourishing, now crawling with decay. Even failure has uses—farmers mix it into soil, and desperate goblins still eat it.',
                'type' => 'misc',
                'subtype' => 'waste',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 0,
            ],

            // === CONSUMABLES ===
            // Food (cooked food lasts longer but still perishable)
            [
                'name' => 'Cooked Shrimp',
                'description' => 'Crisp and pink from the fire. A humble meal, but hunger makes fine philosophers of us all. Heals minor wounds.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 3,
                'base_value' => 8,
                'food_value' => 6,
                'is_perishable' => true,
                'spoil_after_weeks' => 4,
                'decays_into' => 'Spoiled Food',
            ],
            [
                'name' => 'Bread',
                'description' => 'The smell of fresh bread has ended more bar fights than any guard. This golden loaf fills the belly and lifts the spirit. The staff of life.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 10,
                'food_value' => 4,
                'is_perishable' => true,
                'spoil_after_weeks' => 4,
                'decays_into' => 'Spoiled Food',
            ],
            [
                'name' => 'Cooked Trout',
                'description' => 'Grilled over an open flame until the skin crisps. River trout sustained generations of rangers and outlaws hiding in the wild.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 10,
                'base_value' => 20,
                'food_value' => 6,
                'is_perishable' => true,
                'spoil_after_weeks' => 4,
                'decays_into' => 'Spoiled Food',
            ],
            [
                'name' => 'Cooked Salmon',
                'description' => 'The pink flesh flakes perfectly. Adventurers carry smoked salmon on long journeys—it travels well and tastes better than it should.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 15,
                'base_value' => 35,
                'food_value' => 6,
                'is_perishable' => true,
                'spoil_after_weeks' => 4,
                'decays_into' => 'Spoiled Food',
            ],
            [
                'name' => 'Cooked Lobster',
                'description' => 'Nobility pay silver for this delicacy. The sweet meat restores strength and reminds warriors what they\'re fighting for—the good life.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 25,
                'base_value' => 100,
                'food_value' => 6,
                'is_perishable' => true,
                'spoil_after_weeks' => 4,
                'decays_into' => 'Spoiled Food',
            ],
            [
                'name' => 'Meat Pie',
                'description' => 'Golden crust hiding savory filling. Tavern keepers guard their pie recipes like family secrets. This one\'s worth protecting.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 20,
                'base_value' => 50,
                'food_value' => 6,
                'is_perishable' => true,
                'spoil_after_weeks' => 6,
                'decays_into' => 'Spoiled Food',
            ],
            [
                'name' => 'Cooked Meat',
                'description' => 'Seared over flame until the juices run clear. Meat is strength, every warrior knows. Eat well tonight; fight better tomorrow.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 12,
                'base_value' => 25,
                'food_value' => 6,
                'is_perishable' => true,
                'spoil_after_weeks' => 4,
                'decays_into' => 'Spoiled Food',
            ],

            // Potions
            [
                'name' => 'Minor Health Potion',
                'description' => 'Ruby liquid that tastes like copper and hope. The first potion apprentices learn to brew. It won\'t save you from death, but it might buy time.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 15,
                'base_value' => 30,
            ],
            [
                'name' => 'Health Potion',
                'description' => 'Wounds knit closed as you drink, flesh remembering what it was before steel tore it. Every adventurer carries these. The smart ones carry more.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 30,
                'base_value' => 75,
            ],
            [
                'name' => 'Greater Health Potion',
                'description' => 'Alchemists call this "liquid miracle." It can bring warriors back from the edge of death, sealing wounds that should have been graves.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 50,
                'base_value' => 200,
            ],
            [
                'name' => 'Energy Elixir',
                'description' => 'Golden as dawn and twice as invigorating. This elixir restores the stamina of youth. Laborers dream of it; nobles hoard it.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 10,
                'energy_bonus' => 10,
                'base_value' => 500,
            ],
            [
                'name' => 'Energy Tonic',
                'description' => 'A fizzing draught that banishes fatigue. Messengers and miners swear by it. The crash comes later, but later is someone else\'s problem.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 20,
                'energy_bonus' => 5,
                'base_value' => 150,
            ],

            // Combat potions
            [
                'name' => 'Attack Potion',
                'description' => 'Red as rage, sharp as hate. Drink this and your strikes find gaps in armor you couldn\'t see before. The battlefield slows while you quicken.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 20,
                'buff_type' => 'attack',
                'buff_percent' => 10,
                'buff_duration' => 300,
                'base_value' => 100,
            ],
            [
                'name' => 'Strength Potion',
                'description' => 'Muscles surge with borrowed power. Swords swing easier, shields feel lighter. The giant within awakens—but only briefly.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 20,
                'buff_type' => 'strength',
                'buff_percent' => 10,
                'buff_duration' => 300,
                'base_value' => 100,
            ],
            [
                'name' => 'Defense Potion',
                'description' => 'Your skin doesn\'t harden, but somehow blows land softer. Instincts sharpen; you move where steel isn\'t. Survival made liquid.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 20,
                'buff_type' => 'defense',
                'buff_percent' => 10,
                'buff_duration' => 300,
                'base_value' => 100,
            ],
            [
                'name' => 'Accuracy Potion',
                'description' => 'The world crystallizes into perfect clarity. Archers speak of seeing the space between heartbeats. Every shot finds its mark.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 20,
                'buff_type' => 'accuracy',
                'buff_percent' => 10,
                'buff_duration' => 300,
                'base_value' => 120,
            ],
            [
                'name' => 'Agility Potion',
                'description' => 'The world moves through honey while you dance through air. Blades that should connect miss by inches. Rogues pay fortunes for this edge.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 20,
                'buff_type' => 'agility',
                'buff_percent' => 10,
                'buff_duration' => 300,
                'base_value' => 130,
            ],
            [
                'name' => 'Super Attack Potion',
                'description' => 'Concentrated fury in a bottle. Veterans say it makes you see killing strokes before enemies begin them. The hangover is terrible.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 10,
                'buff_type' => 'attack',
                'buff_percent' => 20,
                'buff_duration' => 300,
                'base_value' => 300,
            ],
            [
                'name' => 'Super Strength Potion',
                'description' => 'Brewed with giant essence, this potion grants strength that shouldn\'t fit in mortal bodies. Blacksmiths use it to bend steel barehanded.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 10,
                'buff_type' => 'strength',
                'buff_percent' => 20,
                'buff_duration' => 300,
                'base_value' => 300,
            ],
            [
                'name' => 'Super Defense Potion',
                'description' => 'Turtle shell and ironbark, distilled to essence. Those who drink it shrug off blows that would fell oxen. Kings keep these for assassins.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 10,
                'buff_type' => 'defense',
                'buff_percent' => 20,
                'buff_duration' => 300,
                'base_value' => 300,
            ],
            [
                'name' => 'Prayer Potion',
                'description' => 'Holy water and sacred herbs restore the connection between mortal and divine. Paladins carry these into unholy places where faith falters.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 10,
                'prayer_bonus' => 30,
                'base_value' => 250,
            ],
            [
                'name' => 'Combat Potion',
                'description' => 'Three potions in one, perfectly balanced. Warriors call it "liquid victory." The recipe is a guild secret punishable by death to share.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 10,
                'buff_type' => 'combat',
                'buff_percent' => 15,
                'buff_duration' => 300,
                'base_value' => 500,
            ],
            [
                'name' => 'Overload Potion',
                'description' => 'Drinking this is agony—it tears you apart to rebuild you stronger. For five minutes, you fight like a demigod. The crash nearly kills the unwary.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 5,
                'buff_type' => 'overload',
                'buff_percent' => 25,
                'buff_duration' => 300,
                'base_value' => 1500,
            ],
            [
                'name' => 'Elixir of Life',
                'description' => 'Alchemists spend lifetimes seeking this formula. A single dose pulls souls back from death\'s threshold and holds the reaper at bay. Priceless.',
                'type' => 'consumable',
                'subtype' => 'potion',
                'rarity' => 'legendary',
                'stackable' => true,
                'max_stack' => 3,
                'hp_bonus' => 100,
                'buff_type' => 'regeneration',
                'buff_percent' => 5,
                'buff_duration' => 600,
                'base_value' => 5000,
            ],

            // Medical supplies
            [
                'name' => 'Bandage',
                'description' => 'Clean linen boiled and dried. Every soldier learns to wrap wounds tight. A bandage won\'t heal you, but it\'ll stop you bleeding out.',
                'type' => 'consumable',
                'subtype' => 'medical',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 8,
                'base_value' => 10,
            ],
            [
                'name' => 'Medicine',
                'description' => 'Village healers prepare this paste from a dozen herbs. It tastes like dirt and regret, but it works. Bodies remember how to mend.',
                'type' => 'consumable',
                'subtype' => 'medical',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 20,
                'base_value' => 50,
            ],
            [
                'name' => 'Antidote',
                'description' => 'Bitter as the poisons it fights. Drink within minutes of a venomous bite and watch death retreat. Wait too long and join the dead.',
                'type' => 'consumable',
                'subtype' => 'medical',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 20,
                'base_value' => 75,
            ],
            [
                'name' => 'Healing Potion',
                'description' => 'Physicians guard their formulas jealously. This draught combines alchemy and medicine into something that shouldn\'t work—but does.',
                'type' => 'consumable',
                'subtype' => 'medical',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 10,
                'hp_bonus' => 40,
                'base_value' => 150,
            ],

            // Feast items
            [
                'name' => 'Feast Platter',
                'description' => 'The lord\'s table made portable. Roasted meats, aged cheeses, honeyed fruits—enough to make a starving adventurer weep with joy.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 5,
                'hp_bonus' => 50,
                'base_value' => 200,
                'food_value' => 8,
            ],

            // === TOOLS ===
            [
                'name' => 'Bronze Pickaxe',
                'description' => 'The first tool of every aspiring miner. Bronze dulls quickly against hard rock, but it teaches patience. Master this before demanding better.',
                'type' => 'tool',
                'subtype' => 'pickaxe',
                'rarity' => 'common',
                'stackable' => false,
                'equipment_slot' => 'weapon',
                'required_skill' => 'mining',
                'required_skill_level' => 1,
                'base_value' => 40,
            ],
            [
                'name' => 'Iron Pickaxe',
                'description' => 'Cold iron bites deeper and lasts longer. Experienced miners swing these into rock faces that would blunt bronze in an hour.',
                'type' => 'tool',
                'subtype' => 'pickaxe',
                'rarity' => 'common',
                'stackable' => false,
                'equipment_slot' => 'weapon',
                'required_skill' => 'mining',
                'required_skill_level' => 10,
                'base_value' => 150,
            ],
            [
                'name' => 'Steel Pickaxe',
                'description' => 'The professional\'s choice. Steel pickaxes crack stone that laughs at lesser metals. Dwarven miners won\'t use anything else.',
                'type' => 'tool',
                'subtype' => 'pickaxe',
                'rarity' => 'uncommon',
                'stackable' => false,
                'equipment_slot' => 'weapon',
                'required_skill' => 'mining',
                'required_skill_level' => 30,
                'base_value' => 500,
            ],
            [
                'name' => 'Fishing Rod',
                'description' => 'A simple pole, some line, and a hook. Generations have fed families with rods like this. Patience catches more fish than equipment.',
                'type' => 'tool',
                'subtype' => 'fishing',
                'rarity' => 'common',
                'stackable' => false,
                'required_skill' => 'fishing',
                'required_skill_level' => 1,
                'base_value' => 25,
            ],
            [
                'name' => 'Fishing Net',
                'description' => 'Woven by patient hands, cast by practiced arms. Nets catch what lines miss—the small fry that feed villages through winter.',
                'type' => 'tool',
                'subtype' => 'fishing',
                'rarity' => 'common',
                'stackable' => false,
                'required_skill' => 'fishing',
                'required_skill_level' => 5,
                'base_value' => 50,
            ],
            [
                'name' => 'Hammer',
                'description' => 'The smith\'s voice. Every ring of hammer on anvil shapes metal and destiny alike. Wars have been won and lost by the quality of a smith\'s hammer.',
                'type' => 'tool',
                'subtype' => 'smithing',
                'rarity' => 'common',
                'stackable' => false,
                'required_skill' => 'smithing',
                'required_skill_level' => 1,
                'base_value' => 30,
            ],
            [
                'name' => 'Needle',
                'description' => 'Tiny but essential. With a needle and thread, torn armor becomes wearable, wounds become closed, and leather becomes luxury.',
                'type' => 'tool',
                'subtype' => 'crafting',
                'rarity' => 'common',
                'stackable' => false,
                'required_skill' => 'crafting',
                'required_skill_level' => 1,
                'base_value' => 5,
            ],
            [
                'name' => 'Chisel',
                'description' => 'Precision incarnate. Gem cutters use these to transform rough stones into fortunes. One slip destroys months of work.',
                'type' => 'tool',
                'subtype' => 'crafting',
                'rarity' => 'common',
                'stackable' => false,
                'base_value' => 25,
            ],
            [
                'name' => 'Ring Mould',
                'description' => 'Pour molten gold and watch circles of power form. This mould has shaped engagement rings and enchanted bands alike.',
                'type' => 'tool',
                'subtype' => 'crafting',
                'rarity' => 'common',
                'stackable' => false,
                'base_value' => 50,
            ],
            [
                'name' => 'Necklace Mould',
                'description' => 'Delicate channels for molten metal to follow. The necklaces cast from this mould have adorned queens and courtesans.',
                'type' => 'tool',
                'subtype' => 'crafting',
                'rarity' => 'common',
                'stackable' => false,
                'base_value' => 60,
            ],
            [
                'name' => 'Bracelet Mould',
                'description' => 'Circular paths that gold flows through to become jewelry. Skilled crafters can produce bracelets worth a peasant\'s yearly wage.',
                'type' => 'tool',
                'subtype' => 'crafting',
                'rarity' => 'common',
                'stackable' => false,
                'base_value' => 55,
            ],
            [
                'name' => 'Amulet Mould',
                'description' => 'Amulets hold magic more readily than other jewelry. This mould shapes the metal; the enchanter shapes the power within.',
                'type' => 'tool',
                'subtype' => 'crafting',
                'rarity' => 'common',
                'stackable' => false,
                'base_value' => 65,
            ],

            // === MISC ===
            [
                'name' => 'Nails',
                'description' => 'Small iron spikes that hold civilization together. Houses, fences, coffins—nails make them all. Never travel without spares.',
                'type' => 'misc',
                'subtype' => 'material',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 500,
                'base_value' => 1,
            ],
            [
                'name' => 'Oak Plank',
                'description' => 'Sawn and dried until the grain runs true. Oak planks build ships that cross oceans and floors that last generations.',
                'type' => 'misc',
                'subtype' => 'material',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 20,
            ],
            [
                'name' => 'Wooden Arrow',
                'description' => 'Straightened shaft, sharpened point, feather fletching. Simple and deadly. Archers loose thousands in a single battle.',
                'type' => 'misc',
                'subtype' => 'ammunition',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 1000,
                'base_value' => 2,
            ],
            [
                'name' => 'Bronze Arrow',
                'description' => 'Wooden shafts tipped with bronze heads. A reliable choice for novice archers seeking their first metal-tipped ammunition.',
                'type' => 'misc',
                'subtype' => 'ammunition',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 1000,
                'base_value' => 5,
            ],
            [
                'name' => 'Iron Arrow',
                'description' => 'Cold iron tips mounted on sturdy shafts. The standard ammunition of professional archers and town guards alike.',
                'type' => 'misc',
                'subtype' => 'ammunition',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 1000,
                'base_value' => 12,
            ],
            [
                'name' => 'Steel Arrow',
                'description' => 'Precision-forged steel heads that punch through leather with ease. Favored by hunters and mercenaries.',
                'type' => 'misc',
                'subtype' => 'ammunition',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 1000,
                'base_value' => 25,
            ],
            [
                'name' => 'Mithril Arrow',
                'description' => 'Lightweight mithril tips that fly true over incredible distances. Elven fletchers guard their secrets jealously.',
                'type' => 'misc',
                'subtype' => 'ammunition',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 1000,
                'base_value' => 50,
            ],
            [
                'name' => 'Celestial Arrow',
                'description' => 'Arrows tipped with fallen star-metal. They shimmer faintly in darkness and strike with otherworldly precision.',
                'type' => 'misc',
                'subtype' => 'ammunition',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 1000,
                'base_value' => 100,
            ],
            [
                'name' => 'Oria Arrow',
                'description' => 'The finest arrows mortal hands can craft. Oria-tipped arrows have felled dragons and pierced the hearts of demons.',
                'type' => 'misc',
                'subtype' => 'ammunition',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 1000,
                'base_value' => 200,
            ],
            [
                'name' => 'Bones',
                'description' => 'All that remains when the soul departs. Priests use bones in rituals; alchemists grind them for reagents. Everything serves a purpose.',
                'type' => 'misc',
                'subtype' => 'remains',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 2,
            ],
            [
                'name' => 'Big Bones',
                'description' => 'Giants, ogres, and trolls leave these behind. The marrow contains echoes of terrible strength. Temples pay well for proper burials.',
                'type' => 'misc',
                'subtype' => 'remains',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 15,
            ],
            [
                'name' => 'Dragon Bones',
                'description' => 'Heavier than stone and warm to the touch even in death. Dragon bones hold magic that outlasts the creature. Scholars kill for these.',
                'type' => 'misc',
                'subtype' => 'remains',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 500,
            ],
            [
                'name' => 'Feather',
                'description' => 'Plucked from fowl and fallen birds. Fletchers prize these for arrow-making, while scribes fashion them into quills. Light as air, yet essential for flight.',
                'type' => 'resource',
                'subtype' => 'monster_part',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
            ],
            [
                'name' => 'Thread',
                'description' => 'Spun from wool or flax, dyed in village vats. Thread connects cloth to cloth, wound to skin, and craftsman to livelihood.',
                'type' => 'misc',
                'subtype' => 'material',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
            ],
            [
                'name' => 'Cloth',
                'description' => 'Woven from thread by patient hands. Cloth wraps wounds, makes sails, and clothes the common folk. The foundation of civilization\'s comfort.',
                'type' => 'misc',
                'subtype' => 'material',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 5,
            ],
            [
                'name' => 'Leather',
                'description' => 'Hides transformed through salt and time. Leather protects, binds, and adorns. Every armor starts with leather backing.',
                'type' => 'misc',
                'subtype' => 'material',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 10,
            ],
            [
                'name' => 'Rope',
                'description' => 'Twisted fibers wound tight, strong enough to bind beasts or lower heroes into darkness. Every dungeon delver knows its worth.',
                'type' => 'misc',
                'subtype' => 'material',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 8,
            ],
            [
                'name' => 'Torch',
                'description' => 'A simple stick wrapped in oil-soaked cloth. It banishes darkness, reveals hidden paths, and keeps the night terrors at bay.',
                'type' => 'misc',
                'subtype' => 'tool',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 5,
            ],

            // === SEEDS (for farming) ===
            [
                'name' => 'Wheat Seeds',
                'description' => 'Golden promise in tiny form. These seeds fed the first settlements and will feed the last. Plant them and watch civilization grow.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 2,
            ],
            [
                'name' => 'Potato Seeds',
                'description' => 'Ugly, humble, and miraculous. Potatoes grow where wheat fears to sprout. They\'ve saved more lives than any sword.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
            ],
            [
                'name' => 'Carrot Seeds',
                'description' => 'So small you could lose them in a breeze. Yet from these specks spring orange roots that sharpen eyes and sweeten stews.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
            ],
            [
                'name' => 'Cabbage Seeds',
                'description' => 'Patient farmers grow cabbages. The heads take time to form, but when they do—soups, slaws, and survival through winter.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 4,
            ],
            [
                'name' => 'Onion Seeds',
                'description' => 'They\'ll make you cry when you harvest them, but they\'ll make your meals sing. No proper kitchen lacks onions.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 4,
            ],
            [
                'name' => 'Corn Seeds',
                'description' => 'Each kernel contains a stalk, each stalk an ear, each ear a hundred kernels more. Mathematics made edible.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 5,
            ],
            [
                'name' => 'Tomato Seeds',
                'description' => 'Once thought poisonous, now beloved. Red globes of summer sweetness grow from these tiny flat seeds.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 5,
            ],
            [
                'name' => 'Pumpkin Seeds',
                'description' => 'Large pale seeds that become enormous orange gourds. Children carve faces; adults make pies. Both are right.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 6,
            ],
            [
                'name' => 'Grape Seeds',
                'description' => 'Tiny seeds of intoxicating potential. From these come vineyards, from vineyards come wines, from wines come songs and regrets.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 10,
            ],
            [
                'name' => 'Hop Seeds',
                'description' => 'Brewers prize these bitter flowers. Without hops, ale is just bread water. With them, it becomes art.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 8,
            ],
            [
                'name' => 'Herb Seeds',
                'description' => 'A mix of culinary and medicinal herbs. Every garden needs these—for flavor, for health, for the bees.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 4,
            ],
            [
                'name' => 'Flax Seeds',
                'description' => 'Blue flowers become linen cloth. These small seeds connect farmers to weavers to tailors to the well-dressed.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 8,
            ],
            [
                'name' => 'Strawberry Seeds',
                'description' => 'Barely visible specks that become summer\'s sweetest treats. Children learn patience waiting for strawberry season.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
            ],
            [
                'name' => 'Blueberry Seeds',
                'description' => 'Wild in the forests, cultivated in gardens. Blueberries stain fingers and tongues with summer memories.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
            ],
            [
                'name' => 'Raspberry Seeds',
                'description' => 'Thorny bushes guard these treasures. The scratch marks are worth it when you taste that first ripe berry.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 4,
            ],
            [
                'name' => 'Lettuce Seeds',
                'description' => 'Quick from soil to salad. Lettuce forgives impatient farmers and rewards them with crisp green leaves.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 2,
            ],
            [
                'name' => 'Cucumber Seeds',
                'description' => 'Cool and refreshing even in concept. Plant these when summer threatens and harvest relief.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
            ],
            [
                'name' => 'Pepper Seeds',
                'description' => 'From mild to murderous, peppers add life to meals. These seeds contain spectrum of heat waiting to emerge.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 4,
            ],
            [
                'name' => 'Bean Seeds',
                'description' => 'Protein from the soil. Beans build muscle and feed armies. They\'re less glamorous than meat but more reliable.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
            ],
            [
                'name' => 'Melon Seeds',
                'description' => 'Summer sweetness in potential form. Plant these and wait for the heavy, fragrant reward.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 5,
            ],
            [
                'name' => 'Watermelon Seeds',
                'description' => 'Black seeds for green shells filled with red sweetness. Watermelons are summer\'s greatest gift to hot days.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 8,
            ],
            [
                'name' => 'Squash Seeds',
                'description' => 'Autumn\'s bounty begins with these seeds. Squash stores through winter, feeding families when snow covers fields.',
                'type' => 'resource',
                'subtype' => 'seed',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 5,
            ],

            // === CROP HARVESTS (from farming) ===
            [
                'name' => 'Wheat',
                'description' => 'Freshly harvested wheat. Can be milled into flour or donated to the village granary.',
                'type' => 'resource',
                'subtype' => 'crop',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
                'food_value' => 2,
            ],
            [
                'name' => 'Potatoes',
                'description' => 'Fresh potatoes from the farm. Nutritious and filling.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 4,
                'food_value' => 2,
            ],
            [
                'name' => 'Carrots',
                'description' => 'Crunchy orange carrots. Good for stews or horse feed.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 4,
                'base_value' => 5,
                'food_value' => 2,
            ],
            [
                'name' => 'Cabbage',
                'description' => 'Fresh leafy cabbage. Perfect for soups and salads.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 6,
                'base_value' => 6,
                'food_value' => 2,
            ],
            [
                'name' => 'Onions',
                'description' => 'Pungent onions used in countless recipes.',
                'type' => 'resource',
                'subtype' => 'crop',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 5,
                'food_value' => 2,
            ],
            [
                'name' => 'Corn',
                'description' => 'Golden ears of corn. Great for feed and flour.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 8,
                'base_value' => 8,
                'food_value' => 2,
            ],
            [
                'name' => 'Tomatoes',
                'description' => 'Ripe red tomatoes that brighten any dish.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 6,
                'base_value' => 7,
                'food_value' => 4,
            ],
            [
                'name' => 'Pumpkins',
                'description' => 'Large orange gourds. Festive and nutritious.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 12,
                'base_value' => 15,
                'food_value' => 4,
            ],
            [
                'name' => 'Grapes',
                'description' => 'Sweet grape clusters perfect for wine making.',
                'type' => 'resource',
                'subtype' => 'crop',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 12,
            ],
            [
                'name' => 'Hops',
                'description' => 'Essential ingredient for brewing fine ales.',
                'type' => 'resource',
                'subtype' => 'crop',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 10,
            ],
            [
                'name' => 'Farm Herbs',
                'description' => 'Aromatic herbs used in cooking and medicine.',
                'type' => 'resource',
                'subtype' => 'herb',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 6,
            ],
            [
                'name' => 'Flax',
                'description' => 'Blue-flowered plant used for linen and oil.',
                'type' => 'resource',
                'subtype' => 'crop',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 12,
            ],
            // Personal food crops (consumable by player)
            [
                'name' => 'Strawberries',
                'description' => 'Sweet red berries. A refreshing snack.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 6,
                'base_value' => 5,
                'food_value' => 2,
            ],
            [
                'name' => 'Blueberries',
                'description' => 'Plump blue berries bursting with flavor.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 4,
                'food_value' => 2,
            ],
            [
                'name' => 'Raspberries',
                'description' => 'Delicate red berries with a tart sweetness.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 4,
                'food_value' => 2,
            ],
            [
                'name' => 'Watermelon',
                'description' => 'A large juicy melon. Very refreshing on hot days.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 15,
                'base_value' => 18,
                'food_value' => 4,
            ],
            [
                'name' => 'Melon',
                'description' => 'A sweet cantaloupe melon.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 30,
                'hp_bonus' => 10,
                'base_value' => 12,
                'food_value' => 4,
            ],
            [
                'name' => 'Peppers',
                'description' => 'Colorful bell peppers. Crunchy and nutritious.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 7,
                'base_value' => 6,
                'food_value' => 4,
            ],
            [
                'name' => 'Lettuce',
                'description' => 'Fresh leafy greens for salads.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 3,
                'base_value' => 3,
                'food_value' => 2,
            ],
            [
                'name' => 'Squash',
                'description' => 'A hearty autumn squash.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 30,
                'hp_bonus' => 10,
                'base_value' => 10,
                'food_value' => 4,
            ],
            [
                'name' => 'Beans',
                'description' => 'Nutritious green beans.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 6,
                'base_value' => 5,
                'food_value' => 4,
            ],
            [
                'name' => 'Cucumber',
                'description' => 'Cool and refreshing cucumber.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 4,
                'base_value' => 4,
                'food_value' => 4,
            ],
            // More fruits
            [
                'name' => 'Apple',
                'description' => 'A crisp, juicy apple.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 4,
                'food_value' => 2,
            ],
            [
                'name' => 'Orange',
                'description' => 'A sweet citrus fruit.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 6,
                'base_value' => 5,
                'food_value' => 4,
            ],
            [
                'name' => 'Lemon',
                'description' => 'A sour citrus fruit. Good for cooking.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 3,
                'base_value' => 4,
                'food_value' => 4,
            ],
            [
                'name' => 'Cherries',
                'description' => 'Sweet red cherries in a bunch.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 5,
                'food_value' => 4,
            ],
            [
                'name' => 'Peach',
                'description' => 'A soft, fuzzy peach with sweet flesh.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 7,
                'base_value' => 6,
                'food_value' => 4,
            ],
            [
                'name' => 'Pear',
                'description' => 'A sweet and juicy pear.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 6,
                'base_value' => 5,
                'food_value' => 2,
            ],
            [
                'name' => 'Plum',
                'description' => 'A dark purple plum with sweet flesh.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 5,
                'food_value' => 4,
            ],
            [
                'name' => 'Banana',
                'description' => 'A curved yellow fruit. Filling and nutritious.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 8,
                'base_value' => 8,
                'food_value' => 4,
            ],
            [
                'name' => 'Coconut',
                'description' => 'A hard-shelled tropical fruit with sweet water inside.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 30,
                'hp_bonus' => 12,
                'base_value' => 15,
                'food_value' => 4,
            ],
            [
                'name' => 'Pineapple',
                'description' => 'A spiky tropical fruit with sweet, tangy flesh.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 30,
                'hp_bonus' => 14,
                'base_value' => 18,
                'food_value' => 4,
            ],
            [
                'name' => 'Mango',
                'description' => 'A sweet tropical fruit with golden flesh.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 10,
                'base_value' => 12,
                'food_value' => 4,
            ],
            [
                'name' => 'Pomegranate',
                'description' => 'A fruit filled with ruby-red seeds.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 12,
                'base_value' => 14,
                'food_value' => 4,
            ],
            [
                'name' => 'Fig',
                'description' => 'A soft, sweet fruit that dries well.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 6,
                'base_value' => 6,
                'food_value' => 4,
            ],
            // More vegetables
            [
                'name' => 'Turnip',
                'description' => 'A hardy root vegetable.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 4,
                'base_value' => 3,
                'food_value' => 2,
            ],
            [
                'name' => 'Beet',
                'description' => 'A deep red root vegetable.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 4,
                'food_value' => 2,
            ],
            [
                'name' => 'Radish',
                'description' => 'A peppery red root vegetable.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 3,
                'base_value' => 3,
                'food_value' => 2,
            ],
            [
                'name' => 'Spinach',
                'description' => 'Nutritious leafy greens.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 4,
                'base_value' => 4,
                'food_value' => 4,
            ],
            [
                'name' => 'Kale',
                'description' => 'Hardy leafy greens packed with nutrients.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 5,
                'food_value' => 4,
            ],
            [
                'name' => 'Celery',
                'description' => 'Crisp stalks with a mild flavor.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 2,
                'base_value' => 2,
                'food_value' => 2,
            ],
            [
                'name' => 'Asparagus',
                'description' => 'Tender green spears.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 8,
                'base_value' => 10,
                'food_value' => 4,
            ],
            [
                'name' => 'Broccoli',
                'description' => 'Green florets full of vitamins.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 6,
                'base_value' => 6,
                'food_value' => 4,
            ],
            [
                'name' => 'Cauliflower',
                'description' => 'White florets with a mild taste.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 5,
                'food_value' => 4,
            ],
            [
                'name' => 'Garlic',
                'description' => 'Pungent bulbs used in cooking. Said to ward off vampires.',
                'type' => 'resource',
                'subtype' => 'crop',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 4,
            ],
            [
                'name' => 'Leek',
                'description' => 'A mild onion-like vegetable.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 4,
                'base_value' => 4,
                'food_value' => 4,
            ],
            [
                'name' => 'Parsnip',
                'description' => 'A sweet white root vegetable.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 5,
                'food_value' => 4,
            ],
            [
                'name' => 'Sweet Potato',
                'description' => 'An orange-fleshed root vegetable.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 7,
                'base_value' => 6,
                'food_value' => 4,
            ],
            [
                'name' => 'Artichoke',
                'description' => 'A thistle-like vegetable with a tender heart.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 10,
                'base_value' => 12,
                'food_value' => 4,
            ],
            [
                'name' => 'Eggplant',
                'description' => 'A purple vegetable used in many dishes.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 6,
                'base_value' => 6,
                'food_value' => 4,
            ],
            [
                'name' => 'Zucchini',
                'description' => 'A versatile green squash.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 5,
                'food_value' => 4,
            ],
            // Grains and seeds
            [
                'name' => 'Barley',
                'description' => 'A versatile grain used for bread and beer.',
                'type' => 'resource',
                'subtype' => 'grain',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
                'food_value' => 2,
            ],
            [
                'name' => 'Oats',
                'description' => 'Hearty grain often fed to horses.',
                'type' => 'resource',
                'subtype' => 'grain',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
                'food_value' => 2,
            ],
            [
                'name' => 'Rye',
                'description' => 'A hardy grain that grows in poor soil.',
                'type' => 'resource',
                'subtype' => 'grain',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 3,
                'food_value' => 2,
            ],
            [
                'name' => 'Rice',
                'description' => 'A staple grain that requires wet conditions.',
                'type' => 'resource',
                'subtype' => 'grain',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 4,
                'food_value' => 2,
            ],
            [
                'name' => 'Sunflower Seeds',
                'description' => 'Tasty seeds from giant sunflowers.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'hp_bonus' => 3,
                'base_value' => 3,
                'food_value' => 2,
            ],
            // Exotic high-level crops (65+)
            [
                'name' => 'Dragon Fruit',
                'description' => 'A striking pink fruit with white flesh speckled with black seeds.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 30,
                'hp_bonus' => 25,
                'base_value' => 75,
                'food_value' => 8,
            ],
            [
                'name' => 'Starfruit',
                'description' => 'A golden fruit shaped like a star. Said to fall from the heavens.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 30,
                'hp_bonus' => 30,
                'base_value' => 100,
                'food_value' => 8,
            ],
            [
                'name' => 'Ancient Grain',
                'description' => 'Seeds from a forgotten era. Glows faintly with primordial magic.',
                'type' => 'resource',
                'subtype' => 'grain',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 150,
            ],
            [
                'name' => 'Moonberry',
                'description' => 'Pale berries that only bloom under moonlight. Mildly magical.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 30,
                'hp_bonus' => 28,
                'energy_bonus' => 15,
                'base_value' => 90,
                'food_value' => 8,
            ],
            [
                'name' => 'Blood Orange',
                'description' => 'A crimson-fleshed citrus with intense, complex flavor.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 18,
                'base_value' => 45,
                'food_value' => 4,
            ],
            [
                'name' => 'Saffron',
                'description' => 'The most precious spice in the realm. Worth its weight in gold.',
                'type' => 'resource',
                'subtype' => 'crop',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 200,
            ],
            [
                'name' => 'Vanilla Pod',
                'description' => 'Aromatic pods from an exotic orchid. Prized by bakers.',
                'type' => 'resource',
                'subtype' => 'crop',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 80,
            ],
            [
                'name' => 'Cocoa Beans',
                'description' => 'Tropical pods that produce rich chocolate when processed.',
                'type' => 'resource',
                'subtype' => 'crop',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 40,
            ],
            [
                'name' => 'Coffee Beans',
                'description' => 'Energizing beans that make a stimulating brew.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 100,
                'energy_bonus' => 20,
                'base_value' => 35,
            ],
            [
                'name' => 'Tea Leaves',
                'description' => 'Fragrant leaves for brewing a calming beverage.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'hp_bonus' => 8,
                'energy_bonus' => 10,
                'base_value' => 25,
            ],
            [
                'name' => 'Sugar Cane',
                'description' => 'Sweet stalks processed into sugar.',
                'type' => 'resource',
                'subtype' => 'crop',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 15,
            ],
            [
                'name' => 'Giant Pumpkin',
                'description' => 'An enormous pumpkin grown with expert care. Could win any contest.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'epic',
                'stackable' => false,
                'hp_bonus' => 50,
                'base_value' => 250,
                'food_value' => 8,
            ],
            [
                'name' => 'Prized Melon',
                'description' => 'A perfectly cultivated melon of exceptional sweetness.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'epic',
                'stackable' => false,
                'hp_bonus' => 45,
                'base_value' => 200,
                'food_value' => 8,
            ],
            [
                'name' => 'Golden Wheat',
                'description' => 'Wheat infused with ancient magic. Glimmers in sunlight.',
                'type' => 'resource',
                'subtype' => 'grain',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 180,
            ],
            [
                'name' => 'Elderberry',
                'description' => 'Dark purple berries with potent medicinal properties.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 22,
                'base_value' => 60,
                'food_value' => 4,
            ],
            [
                'name' => 'Mandrake Root',
                'description' => 'A magical root that screams when pulled. Valuable for alchemy.',
                'type' => 'resource',
                'subtype' => 'crop',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 30,
                'base_value' => 175,
            ],
            [
                'name' => 'Crystal Grape',
                'description' => 'Translucent grapes that shimmer with inner light. For the finest wines.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'legendary',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 40,
                'energy_bonus' => 20,
                'base_value' => 300,
                'food_value' => 8,
            ],
            [
                'name' => 'Void Pepper',
                'description' => 'An impossibly hot pepper from another dimension.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'legendary',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 35,
                'base_value' => 350,
                'food_value' => 8,
            ],
            [
                'name' => 'Celestial Carrot',
                'description' => 'A perfect carrot blessed by the gods. Rabbits would wage war for this.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'legendary',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 50,
                'base_value' => 400,
                'food_value' => 8,
            ],
            // Monster drops / foraged foods
            [
                'name' => 'Egg',
                'description' => 'A fresh egg. Drops from bird creatures.',
                'type' => 'resource',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 3,
                'food_value' => 4,
            ],
            [
                'name' => 'Golden Egg',
                'description' => 'A rare golden egg. Very valuable.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 10,
                'hp_bonus' => 30,
                'base_value' => 100,
                'food_value' => 8,
            ],
            [
                'name' => 'Honey',
                'description' => 'Sweet golden honey. Drops from bee creatures.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 10,
                'base_value' => 15,
                'food_value' => 6,
            ],
            [
                'name' => 'Royal Jelly',
                'description' => 'Precious substance from giant bees. Highly nutritious.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 25,
                'base_value' => 80,
                'food_value' => 8,
            ],
            [
                'name' => 'Milk',
                'description' => 'Fresh milk. Nutritious and refreshing.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 8,
                'base_value' => 5,
                'food_value' => 4,
            ],
            [
                'name' => 'Cheese',
                'description' => 'Aged cheese. Filling and delicious.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 12,
                'base_value' => 10,
                'food_value' => 4,
            ],
            [
                'name' => 'Wild Mushroom',
                'description' => 'Foraged forest mushroom. Edible but plain.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 4,
                'base_value' => 3,
                'food_value' => 2,
            ],
            [
                'name' => 'Giant Mushroom Cap',
                'description' => 'A massive mushroom cap from giant fungi.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 30,
                'hp_bonus' => 15,
                'base_value' => 20,
                'food_value' => 4,
            ],
            [
                'name' => 'Truffle',
                'description' => 'A rare and prized underground fungus.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 20,
                'base_value' => 75,
                'food_value' => 4,
            ],
            [
                'name' => 'Wild Berries',
                'description' => 'A mix of foraged forest berries.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 4,
                'base_value' => 2,
                'food_value' => 2,
            ],
            [
                'name' => 'Walnuts',
                'description' => 'Crunchy nuts with a rich flavor.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'hp_bonus' => 4,
                'base_value' => 4,
                'food_value' => 2,
            ],
            [
                'name' => 'Almonds',
                'description' => 'Sweet and nutritious nuts.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'hp_bonus' => 5,
                'base_value' => 5,
                'food_value' => 2,
            ],
            [
                'name' => 'Chestnuts',
                'description' => 'Sweet nuts best roasted over a fire.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'hp_bonus' => 6,
                'base_value' => 5,
                'food_value' => 2,
            ],
            [
                'name' => 'Acorn',
                'description' => 'A nut from oak trees. Can be ground into flour.',
                'type' => 'resource',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 100,
                'base_value' => 1,
                'food_value' => 2,
            ],
            // Exotic / Magical foods
            [
                'name' => 'Dragon Fruit',
                'description' => 'A vibrant pink fruit with white flesh. Slightly magical.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 25,
                'base_value' => 50,
                'food_value' => 8,
            ],
            [
                'name' => 'Starfruit',
                'description' => 'A star-shaped fruit that glows faintly.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 30,
                'base_value' => 65,
                'food_value' => 8,
            ],
            [
                'name' => 'Moonberry',
                'description' => 'Luminescent berries that only grow under moonlight.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 35,
                'base_value' => 80,
                'food_value' => 8,
            ],
            [
                'name' => 'Sunfruit',
                'description' => 'A warm golden fruit that radiates gentle heat.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'rare',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 35,
                'base_value' => 80,
                'food_value' => 8,
            ],
            [
                'name' => 'Ambrosia',
                'description' => 'Food of the gods. Extremely rare and powerful.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'legendary',
                'stackable' => true,
                'max_stack' => 5,
                'hp_bonus' => 100,
                'base_value' => 500,
                'food_value' => 8,
            ],
            [
                'name' => 'Goblin Rations',
                'description' => 'Unappetizing food from a goblin camp. Edible... barely.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 3,
                'base_value' => 1,
                'food_value' => 2,
            ],
            [
                'name' => 'Orc Jerky',
                'description' => 'Tough dried meat carried by orc raiders.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 8,
                'base_value' => 5,
                'food_value' => 4,
            ],
            [
                'name' => 'Spider Egg Sac',
                'description' => 'A sac full of spider eggs. Some consider it a delicacy.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 12,
                'base_value' => 15,
                'food_value' => 4,
            ],
            [
                'name' => 'Slime Jelly',
                'description' => 'Gelatinous goo from slime creatures. Surprisingly edible.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 5,
                'base_value' => 4,
                'food_value' => 2,
            ],
            [
                'name' => 'Beast Meat',
                'description' => 'Raw meat from a wild beast.',
                'type' => 'resource',
                'subtype' => 'meat',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 8,
            ],
            [
                'name' => 'Venison',
                'description' => 'Raw deer meat. Lean and flavorful when cooked.',
                'type' => 'resource',
                'subtype' => 'meat',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 12,
            ],
            [
                'name' => 'Boar Meat',
                'description' => 'Raw meat from a wild boar.',
                'type' => 'resource',
                'subtype' => 'meat',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 10,
            ],
            [
                'name' => 'Wolf Meat',
                'description' => 'Tough meat from a slain wolf.',
                'type' => 'resource',
                'subtype' => 'meat',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 8,
            ],
            [
                'name' => 'Bear Meat',
                'description' => 'Rich meat from a bear. Very filling.',
                'type' => 'resource',
                'subtype' => 'meat',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 30,
                'base_value' => 20,
            ],
            [
                'name' => 'Dragon Steak',
                'description' => 'Rare meat from a dragon. Slightly spicy.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'epic',
                'stackable' => true,
                'max_stack' => 10,
                'hp_bonus' => 50,
                'base_value' => 200,
                'food_value' => 8,
            ],
            [
                'name' => 'Raw Chicken',
                'description' => 'Fresh chicken meat. Best cooked before eating unless you enjoy food poisoning.',
                'type' => 'resource',
                'subtype' => 'meat',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'base_value' => 5,
            ],
            [
                'name' => 'Cooked Chicken',
                'description' => 'Simple but satisfying. A staple of taverns and homes across the realm.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 8,
                'base_value' => 12,
                'food_value' => 4,
            ],
            [
                'name' => 'Cooked Venison',
                'description' => 'Perfectly cooked deer meat.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 18,
                'base_value' => 25,
                'food_value' => 6,
            ],
            [
                'name' => 'Roasted Boar',
                'description' => 'Savory roasted boar meat.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'common',
                'stackable' => true,
                'max_stack' => 50,
                'hp_bonus' => 16,
                'base_value' => 22,
                'food_value' => 6,
            ],
            [
                'name' => 'Bear Stew',
                'description' => 'A hearty stew made with bear meat.',
                'type' => 'consumable',
                'subtype' => 'food',
                'rarity' => 'uncommon',
                'stackable' => true,
                'max_stack' => 20,
                'hp_bonus' => 30,
                'base_value' => 45,
                'food_value' => 6,
            ],

            // Rings and Amulets
            [
                'name' => 'Gold Ring',
                'description' => 'Pure gold shaped into a perfect circle. Merchants use these as portable wealth; lovers exchange them as promises. Enchanters see blank canvas.',
                'type' => 'armor',
                'subtype' => 'ring',
                'rarity' => 'uncommon',
                'stackable' => false,
                'equipment_slot' => 'ring',
                'required_level' => 5,
                'base_value' => 200,
            ],
            [
                'name' => 'Gold Necklace',
                'description' => 'Links of gold cascade like liquid sunlight. This necklace has adorned the necks of merchants\' wives and merchant princes alike.',
                'type' => 'armor',
                'subtype' => 'necklace',
                'rarity' => 'uncommon',
                'stackable' => false,
                'equipment_slot' => 'necklace',
                'required_level' => 6,
                'base_value' => 250,
            ],
            [
                'name' => 'Gold Bracelet',
                'description' => 'A band of woven gold threads encircles the wrist. Subtle wealth, easily hidden in sleeves when traveling through dangerous lands.',
                'type' => 'armor',
                'subtype' => 'bracelet',
                'rarity' => 'uncommon',
                'stackable' => false,
                'equipment_slot' => 'bracelet',
                'required_level' => 7,
                'base_value' => 225,
            ],
            [
                'name' => 'Gold Amulet',
                'description' => 'Ancient symbols pressed into gold, their meaning lost to time. Some say amulets remember the prayers of previous owners.',
                'type' => 'armor',
                'subtype' => 'amulet',
                'rarity' => 'uncommon',
                'stackable' => false,
                'equipment_slot' => 'amulet',
                'required_level' => 8,
                'base_value' => 275,
            ],
            [
                'name' => 'Ring of Strength',
                'description' => 'Forged by battlemages for soldiers who needed more than muscle could provide. The ring pulses with contained fury, lending might to every motion.',
                'type' => 'armor',
                'subtype' => 'ring',
                'rarity' => 'rare',
                'stackable' => false,
                'str_bonus' => 5,
                'equipment_slot' => 'ring',
                'required_level' => 20,
                'base_value' => 1000,
            ],
            [
                'name' => 'Amulet of Defense',
                'description' => 'Priests blessed this amulet with wards against harm. Those who wear it feel blows land softer, as if the world conspires to protect them.',
                'type' => 'armor',
                'subtype' => 'amulet',
                'rarity' => 'rare',
                'stackable' => false,
                'def_bonus' => 5,
                'equipment_slot' => 'amulet',
                'required_level' => 20,
                'base_value' => 1000,
            ],
            [
                'name' => 'Amulet of Power',
                'description' => 'Champions have lived and died wearing this amulet. Its power grew with each bearer, until now it hums with centuries of accumulated might. To wear it is to inherit legends.',
                'type' => 'armor',
                'subtype' => 'amulet',
                'rarity' => 'epic',
                'stackable' => false,
                'atk_bonus' => 10,
                'str_bonus' => 10,
                'def_bonus' => 10,
                'equipment_slot' => 'amulet',
                'required_level' => 60,
                'base_value' => 10000,
            ],
        ];

        // Generate gem jewelry items programmatically
        $gemJewelry = $this->generateGemJewelry();

        // Merge smithed items, gem jewelry, and other items
        $allItems = array_merge($smithedItems, $gemJewelry, $items);

        foreach ($allItems as $item) {
            Item::updateOrCreate(
                ['name' => $item['name']],
                $item
            );
        }
    }
}
